# Сайт Figura 2

Веб-сайт для управления и отображения 3D фигур/моделей с панелью администратора для управления контентом.

## Требования

- XAMPP (с Apache, MySQL и PHP)
- Веб-браузер

## Установка и настройка

### 1. Установите XAMPP

1. Загрузите и установите XAMPP с сайта https://www.apachefriends.org/
2. Запустите службы Apache и MySQL из панели управления XAMPP

### 2. Настройте проект

1. Скопируйте папку проекта в директорию htdocs вашего XAMPP:
   - Windows: `C:\xampp\htdocs\`
   - macOS/Linux: `/Applications/XAMPP/htdocs/`

2. Проект должен быть доступен по адресу: `http://localhost/figura-site/`

### 3. Конфигурация базы данных

1. Откройте phpMyAdmin через `http://localhost/phpmyadmin/`
2. Создайте новую базу данных с именем `figura_site` (или любое другое имя по вашему выбору)
3. Импортируйте SQL-схему из файла `sql/schema.sql`:
   - Нажмите на только что созданную базу данных
   - Перейдите на вкладку "Импорт"
   - Нажмите "Выбрать файл" и выберите `sql/schema.sql`
   - Нажмите "Выполнить" для импорта

### 4. Настройка подключения к базе данных

Отредактируйте файл конфигурации базы данных `config/database.php` с вашими учетными данными:

```php
<?php
$host = 'localhost';
$dbname = 'figura_site'; // Имя вашей базы данных
$username = 'root';      // Обычно 'root' для XAMPP
$password = '';          // Обычно пусто для XAMPP
?>
```

### 5. Установка прав доступа к файлам

Убедитесь, что каталоги загрузки имеют соответствующие права на запись:
- `uploads/images/`
- `uploads/files/`

В XAMPP в Windows эти разрешения обычно установлены правильно по умолчанию.

## Возможности

- Публичный сайт со списками фигур (`index.php`, `catalog.php`, `figure.php`)
- Панель администратора для управления фигурами и новостями (`admin/`)
- Функциональность загрузки изображений и файлов
- Функциональность скачивания файлов фигур

## Доступ к панели администратора

1. Перейдите по адресу `http://localhost/figura-site/admin/`
2. Учетные данные входа по умолчанию (измените после первого входа):
   - Имя пользователя: admin
   - Пароль: admin (или как указано в базе данных)

## Структура файлов

```
figura-site/
├── index.php           # Главная страница
├── catalog.php         # Каталог фигур
├── figure.php          # Просмотр отдельной фигуры
├── download.php        # Обработчик скачивания файлов
├── config/
│   └── database.php    # Конфигурация базы данных
├── includes/
│   ├── header.php      # Заголовок страницы
│   ├── footer.php      # Футер страницы
│   └── functions.php   # Вспомогательные функции
├── admin/              # Панель администрирования
│   ├── index.php       # Панель администратора
│   ├── login.php       # Страница входа
│   ├── logout.php      # Выход из системы
│   ├── figures.php     # Управление фигурами
│   ├── figures-edit.php # Редактирование фигур
│   ├── news.php        # Управление новостями
│   ├── news-edit.php   # Редактирование новостей
│   ├── password.php    # Изменение пароля
│   └── includes/       # Вспомогательные файлы администратора
├── assets/
│   ├── css/style.css   # Стили
│   └── js/main.js      # JavaScript
├── uploads/            # Каталог загрузки
│   ├── images/         # Загруженные изображения
│   └── files/          # Загруженные файлы
└── sql/
    └── schema.sql      # Схема базы данных
```

## Устранение неполадок

### Распространенные проблемы

1. **Ошибка подключения к базе данных**: Проверьте учетные данные базы данных в `config/database.php`
2. **Проблемы с загрузкой**: Проверьте права на запись в `uploads/images/` и `uploads/files/`
3. **Страница не найдена**: Убедитесь, что проект размещен в правильной директории htdocs
4. **Стили не загружаются**: Проверьте, правильные ли пути к CSS и JS относительно вашей установки

### Включить отчет об ошибках

Для отладки вы можете временно включить отчет об ошибках PHP, добавив эту строку в начало ваших PHP-файлов:
```php
<?php
error_reporting(E_ALL);
ini_set('display_errors', 1);
?>
```

## Примечания по безопасности

- Немедленно измените учетные данные администратора по умолчанию после установки
- Поддерживайте XAMPP в актуальном состоянии
- Для продакшена реализуйте надлежащие меры безопасности
- Регулярно создавайте резервные копии базы данных

## Лицензия

Этот проект с открытым исходным кодом. См. файл LICENSE для получения подробной информации.

## Автор
*Федор Крылов*
